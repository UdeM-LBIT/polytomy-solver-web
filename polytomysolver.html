<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
<head>
<title>LBIT</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- Import scripts in this specific order -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.10.4/jquery-ui.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.js"></script>
<script src="webplugin/ete.js"></script>
<script>
/* YOU MUST SET THIS VARIABLE */
var ete_webplugin_URL = "cgi-bin/webplugin.py"

</script>
<link rel="stylesheet" type="text/css" href="webplugin/ete.css" >
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/2.2.0/jquery.qtip.min.css" >
</head>

<body>
<i>Menu</i>  <b>::</b> <a href="index.html">Draw Tree</a><br><br>

<!-- This layer must be called "popup" - Used to display the menu when clicking a node -->
<div id="popup"></div>

<div id="content" style='text-align: left;'>
    <ul>
        <h2>Species Tree</h3>
        <li>
        <textarea
            title='• You can paste trees in newick (NH) and extended newick (NHX) formats. <br><br>
                   • Features in NHX format will be parsed as tree features so you can add them as node faces to the tree image.<br><br>
                   • Features whose names starts by "_" will be ignored.'
            id="speciesTree" onClick="$(this).removeClass('disabled');$('#sp_tol_form').addClass('disabled');$('#sp_tol_form').find('#sp_tol').prop('checked', false);"></textarea>

        <br><i> - OR - </i><br>
        <form id="sp_tol_form" class="disabled">
            <label for="sp_tol" style="display:inline-block" >
                Ensembl Species Tree
                <input id="sp_tol" type="checkbox" name="sp_tol" onClick="$('#sp_tol_form').toggleClass('disabled');$('#speciesTree').toggleClass('disabled');" value="yes"/>
            </label>
        </form>
        </li>

        <h2>Gene Tree</h3>
        <li>
        <textarea
            title='• Labels should follow the format "GENE;;SPECIE". <br><br>
                   • Species are case insensitive.'
            id="geneTree" onClick="$(this).removeClass('disabled');$('#gn_ensembl_form').addClass('disabled');"></textarea>
        <br><i> - OR - </i><br>
        <form id="gn_ensembl_form" class="disabled" onClick="$(this).removeClass('disabled');$(this).find('#gn_ensembl').focus();$('#geneTree').addClass('disabled');">
            Ensembl Gene Tree ID : <input id="gn_ensembl" type="textbox" name="gn_ensembl" >
        </form>
        </li>

        <h2>Gene Distances</h3>
        <li><textarea title="Distance matrix (full or lower triangular)" id="geneDistances"></textarea></li>

        <h2>Gene Sequences</h3>
        <li><textarea title="NEXUS or PHYLIP format" id="geneSeq"></textarea></li>

        <h2>Parameters</h3>
        <li>
          Mode :
          <select id="gn_reroot_mode">
              <option value="outputallroots">Reroot (outputallroots)</option>
              <option value="none">Use given root (none)</option>
              <option value="findbestroot">Reroot and return best solution (findbestroot)</option>
          </select>
          <br>
          Contract gene tree branches with support lower than : <input id="gn_support_threshold" type="textbox" value="0.0" name="gn_support_threshold">
        </li>
    </ul>
</div>

<div style="clear:both;" >
    <input type='submit'  value='Draw tree'  onClick='polytomysolver(random_tid(), $("#speciesTree").val(),$("#geneTree").val() ,$("#geneDistances").val(), $("#geneSeq").val(),"name", $("#sp_tol:checked").length,$("#gn_ensembl").val(),$("#gn_reroot_mode option:selected").val(),$("#gn_support_threshold").val(),"#polytomysolver_dropdown");'>

    <input type='button' value='Clear' onClick='$(".ete_image").html("");'>
</div>
    </div>
    <br>
    <!-- Tree containers -->
    <div class="ete_image_container" style="display:inline-block;" id="img0">
    	<div class="ete_image" style="display:inline-block;" id="polytomysolver_dropdown"></div><br>
    	<div class="ete_image" style="display:inline-block;" id="img1"></div><br>
	</div>

    </body>
</html>
